<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Are You SURE You‚Äôre Not a Robot?</title>
  <style>
    :root { --bg:#0f1220; --card:#151a2e; --line:rgba(255,255,255,.10); --soft:rgba(255,255,255,.06); --txt:#eef; }
    body { font-family: system-ui, Arial, sans-serif; margin:0; min-height:100vh; display:grid; place-items:center; background:var(--bg); color:var(--txt); }
    .card { width:min(860px, 94vw); background:var(--card); border:1px solid var(--line); border-radius:18px; padding:22px; box-shadow:0 16px 48px rgba(0,0,0,.45); }
    h1 { margin:0 0 6px; font-size:22px; }
    p { margin:0 0 14px; color:rgba(238,238,255,.85); line-height:1.35; }
    .step { display:none; border:1px solid var(--line); border-radius:14px; padding:14px; background:rgba(255,255,255,.03); }
    .step.active { display:block; }
    .title { display:flex; align-items:baseline; justify-content:space-between; gap:10px; flex-wrap:wrap; }
    .badge { font-size:12px; padding:6px 10px; border-radius:999px; border:1px solid rgba(255,255,255,.14); background:rgba(255,255,255,.05); }
    .status { margin-top:10px; font-size:14px; min-height:22px; }
    .status.good { color:#6ef7a7; }
    .status.bad { color:#ff7a7a; }
    .tiny { font-size:12px; color:rgba(238,238,255,.7); margin-top:8px; }

    /* Buttons */
    .btn {
      border-radius:12px; border:1px solid rgba(255,255,255,.14);
      background:rgba(255,255,255,.07); color:#fff; cursor:pointer; padding:10px 12px;
      font-size:14px; transition:background .15s ease; user-select:none;
    }
    .btn:hover { background:rgba(255,255,255,.10); }
    .btn:disabled { opacity:.5; cursor:not-allowed; }

    /* Emoji grid */
    .grid { display:grid; grid-template-columns:repeat(3, 1fr); gap:10px; margin-top:10px; max-width:360px; }
    button.tile {
      aspect-ratio:1/1; border-radius:12px; border:1px solid rgba(255,255,255,.12);
      background:rgba(255,255,255,.06); color:#fff; font-size:30px; cursor:pointer;
      transition:transform .05s ease, background .15s ease; user-select:none;
    }
    button.tile:hover { background:rgba(255,255,255,.09); }
    button.tile:active { transform:scale(.98); }

    /* Slider */
    .meter { height:10px; border-radius:999px; background:rgba(255,255,255,.08); overflow:hidden; margin-top:10px; }
    .fill { height:100%; width:0%; background:rgba(110,247,167,.75); transition:width .25s ease; }

    /* Chess */
    .chessWrap { display:flex; gap:14px; flex-wrap:wrap; align-items:flex-start; }
    .board {
      display:grid; grid-template-columns:repeat(8, 48px); grid-template-rows:repeat(8, 48px);
      border-radius:14px; overflow:hidden; border:1px solid rgba(255,255,255,.14);
      background:rgba(255,255,255,.04);
    }
    .sq {
      display:grid; place-items:center; font-size:28px; cursor:pointer; user-select:none;
    }
    .light { background:rgba(255,255,255,.06); }
    .dark  { background:rgba(255,255,255,.02); }
    .sq.sel { outline:2px solid rgba(155,210,255,.9); outline-offset:-2px; }
    .sq.hint { outline:2px dashed rgba(255,255,255,.25); outline-offset:-2px; }
    .panel { flex:1 1 320px; border:1px solid var(--line); border-radius:14px; padding:12px; background:rgba(255,255,255,.03); }
    code { background:rgba(255,255,255,.06); padding:2px 6px; border-radius:8px; }
  </style>
</head>

<body>
  <div class="card">
    <h1>Human Verification (but like‚Ä¶ are you <em>sure</em>?)</h1>
    <p>
      You will complete 4 tasks. One at a time. No skipping. We don‚Äôt make the rules.
      (We do. We literally do.)
    </p>

    <!-- STEP 1 -->
    <div class="step active" id="step1">
      <div class="title">
        <div><strong>Step 1:</strong> Click the <span style="font-weight:700;">Goose</span> ü™ø</div>
        <span class="badge">Progressive Rage‚Ñ¢</span>
      </div>
      <div class="grid" id="emojiGrid"></div>
      <div class="status" id="s1"></div>
      <div class="tiny" id="t1">Tip: robots always click the bread first. üçû</div>
    </div>

    <!-- STEP 2 -->
    <div class="step" id="step2">
      <div class="title">
        <div><strong>Step 2:</strong> Are you sureeee you‚Äôre not a robot?</div>
        <span class="badge" id="yesCounter">0/3 confirmations</span>
      </div>
      <p class="tiny">Click ‚ÄúYes‚Äù <em>three times</em>. If you hesitate, we will assume you‚Äôre a toaster with opinions.</p>
      <div style="display:flex; gap:10px; flex-wrap:wrap;">
        <button class="btn" id="yesBtn">Yes. I am not a robot.</button>
        <button class="btn" id="noBtn">No (??)</button>
        <button class="btn" id="pettyBtn" title="Definitely not malicious">Re-check my vibes</button>
      </div>
      <div class="status" id="s2"></div>
    </div>

    <!-- STEP 3 -->
    <div class="step" id="step3">
      <div class="title">
        <div><strong>Step 3:</strong> Set ‚ÄúHuman Confidence‚Äù to exactly <strong>73%</strong></div>
        <span class="badge" id="pctBadge">0%</span>
      </div>
      <p class="tiny">Not 72. Not 74. 73. Because we said so.</p>
      <input id="slider" type="range" min="0" max="100" value="0" style="width:100%;">
      <div class="meter"><div class="fill" id="fill"></div></div>
      <div class="status" id="s3"></div>
    </div>

    <!-- STEP 4 -->
    <div class="step" id="step4">
      <div class="title">
        <div><strong>Step 4:</strong> Chess captcha (mate in 1)</div>
        <span class="badge">Final Boss</span>
      </div>
      <p class="tiny">
        White to move. Deliver checkmate in one move.
        If you fail, we will say ‚Äúinteresting choice‚Äù in a tone that ruins your whole day.
      </p>

      <div class="chessWrap">
        <div>
          <div class="board" id="board"></div>
          <div class="tiny" style="margin-top:8px;">
            Click a piece, then click its destination square.
            (Yes, we are judging.)
          </div>
        </div>

        <div class="panel">
          <div><strong>Position:</strong> White King on h6, White Queen on f7. Black King on h8.</div>
          <div class="tiny">Hint: it‚Äôs the move that makes the black king‚Äôs life choices flash before its eyes.</div>
          <div class="status" id="s4"></div>
          <div class="tiny" id="redir"></div>
        </div>
      </div>
    </div>

  </div>

<script>
  // ‚úÖ Put your YouTube link here:
  const TARGET_URL = "https://www.youtube.com/watch?v=PHnkC0t6k7s";

  // ---------------------------
  // Progressive step controller
  // ---------------------------
  const steps = ["step1","step2","step3","step4"].map(id => document.getElementById(id));
  function showStep(n) {
    steps.forEach((el, i) => el.classList.toggle("active", i === n));
  }

  function setStatus(el, msg, good) {
    el.className = "status " + (good ? "good" : "bad");
    el.textContent = msg;
  }

  // ---------------------------
  // STEP 1: Goose click
  // ---------------------------
  const EMOJIS = ["ü™ø","üçû","üßÉ","üß†","üßΩ","ü¶Ü","üßØ","üßä","üß¶"];
  const emojiGrid = document.getElementById("emojiGrid");
  const s1 = document.getElementById("s1");
  const t1 = document.getElementById("t1");
  let step1Done = false;

  function shuffle(a) {
    a = a.slice();
    for (let i = a.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [a[i], a[j]] = [a[j], a[i]];
    }
    return a;
  }

  function renderEmojiGrid() {
    emojiGrid.innerHTML = "";
    const order = shuffle(EMOJIS);
    order.forEach(emoji => {
      const b = document.createElement("button");
      b.className = "tile";
      b.type = "button";
      b.textContent = emoji;
      b.addEventListener("click", () => {
        if (step1Done) return;

        if (emoji === "ü™ø") {
          step1Done = true;
          setStatus(s1, "‚úÖ Fine. You found the goose. Congratulations on your‚Ä¶ eyes.", true);
          t1.textContent = "Okay wow. ‚ÄúGoose Finder.‚Äù Moving on.";
          setTimeout(() => showStep(1), 650);
        } else if (emoji === "üçû") {
          setStatus(s1, "‚ùå You clicked bread. Predictable. Re-shuffling because you clearly need it.", false);
          renderEmojiGrid();
        } else {
          setStatus(s1, "‚ùå Not the goose. Try again. Slowly this time.", false);
        }
      });
      emojiGrid.appendChild(b);
    });
    s1.className = "status";
    s1.textContent = "Click the Goose. Don‚Äôt click the Bread. (This is not hard.)";
  }

  renderEmojiGrid();

  // ---------------------------
  // STEP 2: ‚ÄúAre you sureeee?‚Äù
  // ---------------------------
  const yesBtn = document.getElementById("yesBtn");
  const noBtn = document.getElementById("noBtn");
  const pettyBtn = document.getElementById("pettyBtn");
  const s2 = document.getElementById("s2");
  const yesCounter = document.getElementById("yesCounter");

  const REQUIRED_YES = 3;
  let yesClicks = 0;

  function updateYesCounter() {
    yesCounter.textContent = `${yesClicks}/${REQUIRED_YES} confirmations`;
  }
  updateYesCounter();

  yesBtn.addEventListener("click", () => {
    yesClicks++;
    updateYesCounter();

    if (yesClicks < REQUIRED_YES) {
      setStatus(s2, `Mmm. Say it again. With confidence. (${yesClicks}/${REQUIRED_YES})`, false);
      return;
    }
    setStatus(s2, "‚úÖ Okay. You insisted THREE times. That‚Äôs‚Ä¶ aggressively human.", true);
    setTimeout(() => showStep(2), 650);
  });

  noBtn.addEventListener("click", () => {
    setStatus(s2, "Interesting. A robot would say that as a joke. So would a human. We hate this.", false);
  });

  pettyBtn.addEventListener("click", () => {
    yesClicks = 0;
    updateYesCounter();
    setStatus(s2, "We re-checked your vibes and they were‚Ä¶ inconsistent. Start over. (0/3)", false);
  });

  // ---------------------------
  // STEP 3: Slider exact 73
  // ---------------------------
  const slider = document.getElementById("slider");
  const fill = document.getElementById("fill");
  const pctBadge = document.getElementById("pctBadge");
  const s3 = document.getElementById("s3");

  const REQUIRED_SLIDER = 73;

  function updateSliderUI(v) {
    pctBadge.textContent = `${v}%`;
    fill.style.width = v + "%";
  }
  updateSliderUI(0);
  s3.className = "status";
  s3.textContent = "Set it to 73%. Don‚Äôt act like you can‚Äôt.";

  slider.addEventListener("input", () => {
    const v = Number(slider.value);
    updateSliderUI(v);

    if (v === REQUIRED_SLIDER) {
      setStatus(s3, "‚úÖ 73%. Weirdly specific. Exactly what we wanted. Congrats, I guess.", true);
      setTimeout(() => showStep(3), 650);
    } else if (v < REQUIRED_SLIDER) {
      setStatus(s3, "Too low. You‚Äôre giving ‚Äòfirmware update‚Äô energy.", false);
    } else {
      setStatus(s3, "Too high. Overconfident. That‚Äôs what bots *want* us to think.", false);
    }
  });

  // ---------------------------
  // STEP 4: Chess puzzle (mate in 1)
  // Hardcoded: Move Qf7 -> Qg7#
  // ---------------------------
  const boardEl = document.getElementById("board");
  const s4 = document.getElementById("s4");
  const redir = document.getElementById("redir");

  // Minimal position:
  // 8  . . . . . . . k
  // 7  . . . . . Q . .
  // 6  . . . . . . . K
  // (i.e., White: K h6, Q f7; Black: K h8)
  let position = {
    "h8": "k",
    "f7": "Q",
    "h6": "K",
  };

  const pieceToUnicode = {
    "K": "‚ôî", "Q": "‚ôï", "R": "‚ôñ", "B": "‚ôó", "N": "‚ôò", "P": "‚ôô",
    "k": "‚ôö", "q": "‚ôõ", "r": "‚ôú", "b": "‚ôù", "n": "‚ôû", "p": "‚ôü"
  };

  const files = ["a","b","c","d","e","f","g","h"];
  const ranks = ["8","7","6","5","4","3","2","1"];

  let selected = null; // square like "f7"

  function squareColor(fileIndex, rankIndex) {
    // a8 is dark in standard boards
    const isDark = (fileIndex + rankIndex) % 2 === 0;
    return isDark ? "dark" : "light";
  }

  function renderBoard() {
    boardEl.innerHTML = "";
    for (let r = 0; r < 8; r++) {
      for (let f = 0; f < 8; f++) {
        const sq = files[f] + ranks[r];
        const div = document.createElement("div");
        div.className = "sq " + squareColor(f, r);
        if (sq === selected) div.classList.add("sel");

        const piece = position[sq];
        div.textContent = piece ? pieceToUnicode[piece] : "";

        div.addEventListener("click", () => onSquareClick(sq));
        boardEl.appendChild(div);
      }
    }
  }

  function onSquareClick(sq) {
    // Select only the white queen (rage-bait: we pretend your other choices are invalid)
    if (!selected) {
      if (position[sq] === "Q") {
        selected = sq;
        setStatus(s4, "Okay. You picked the queen. Don‚Äôt waste this moment.", true);
      } else {
        setStatus(s4, "No. Pick the queen. This isn‚Äôt ‚Äòfreestyle chess.‚Äô", false);
      }
      renderBoard();
      return;
    }

    // If clicked same square, unselect
    if (selected === sq) {
      selected = null;
      s4.className = "status";
      s4.textContent = "Fine. Resetting. Click the queen again, drama king/queen.";
      renderBoard();
      return;
    }

    // Attempt move selected -> sq
    const from = selected;
    const to = sq;

    // Only accept the correct answer: Qf7 -> g7
    const correctFrom = "f7";
    const correctTo = "g7";

    if (from === correctFrom && to === correctTo) {
      // Make the move
      delete position[from];
      position[to] = "Q";
      selected = null;
      renderBoard();

      setStatus(s4, "‚úÖ Checkmate. Okay‚Ä¶ you‚Äôre probably not a robot. (Probably.)", true);
      redir.textContent = "Redirecting to your link in 1.5s‚Ä¶ don‚Äôt blink.";
      setTimeout(() => window.location.href = TARGET_URL, 1500);
    } else {
      // Rage-bait: reject and make them reselect
      selected = null;
      renderBoard();
      setStatus(s4, `‚ùå ‚Äú${from} ‚Üí ${to}‚Äù is‚Ä¶ a choice. Not the right one. Try again.`, false);
    }
  }

  s4.className = "status";
  s4.textContent = "White to move. Find mate in 1. (Yes, it‚Äôs easy. No, we won‚Äôt say which move.)";
  renderBoard();
</script>
</body>
</html>
